<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Как работать с CSS-препроцессорами и БЭМ</title>
  <meta name="description" content="Список рекомендаций по неусложнению жизни себе и другим участникам проекта по вёрстке.">

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic|PT+Mono&subset=latin,cyrillic">

</head>

<body>

  <header class="page-header">
    <div class="container">
      <h1>Как работать с CSS-препроцессорами и БЭМ</h1>
      <p class="lead">Список рекомендаций по неусложнению жизни себе и другим участникам проекта по вёрстке.</p>
    </div>
  </header>



  <div class="heading" id="toc">
    <h2>Содержание</h2>
  </div>

  <div class="section toc">
    <div class="col">
      <h4><a href="#bem">БЭМ</a></h4>
      <ul>
        <li><a href="#bem-cool">Зачем</a></li>
        <li><a href="#bem-block">Блок — это самостоятельная часть страницы</a></li>
        <li><a href="#bem-block-inside">Блоки можно и&nbsp;нужно вкладывать друг в&nbsp;друга</a></li>
        <li><a href="#bem-elem">Элемент — часть БЭМ-блока</a></li>
        <li><a href="#bem-elem-in">Элемент нельзя использовать вне&nbsp;его&nbsp;блока</a></li>
        <li><a href="#bem-no-elem">Элементов может не&nbsp;быть</a></li>
        <li><a href="#bem-block-elem">Как отличить БЭМ-блок и БЭМ-элемент</a></li>
        <li><a href="#bem-mod">Модификатор — дополнительный класс для&nbsp;смены оформления или&nbsp;поведения</a></li>
        <li><a href="#bem-mod-mariage">Модификатор нельзя использовать самостоятельно</a></li>
        <li><a href="#mix">Миксование — наличие класса БЭМ-блока и класса БЭМ-элемента у одного тега</a></li>
        <li><a href="#bem-files">Один БЭМ-блок = один файл</a></li>
        <li><a href="#bem-not-dom">БЭМ-дерево плоское, в отличие от DOM</a></li>
        <li><a href="#bem-blocks-only">Некоторые фрагменты дизайна — всегда БЭМ-блоки</a></li>
      </ul>
    </div>
    <div class="col">
      <h4><a href="#pre-css">Sass, LESS, stylus, PostCSS...</a></h4>
      <ul>
        <li><a href="#files">Файловая организация</a></li>
        <li><a href="#import">@import</a></li>
        <li><a href="#nested">Вложенные селекторы</a></li>
        <li><a href="#media">@media</a></li>
        <li><a href="#amp">Амперсанд</a></li>
        <li><a href="#vars">Переменные</a></li>
        <li><a href="#mixins">Примеси</a></li>
      </ul>
    </div>
  </div>

  <div class="section">
    <div class="col">
      <p>Если у вас есть что дополнить или вы хотите принять участие в разработке этих соглашений, пожалуйста, <a href="https://github.com/nicothin/idiomatic-pre-CSS/issues/new">создайте issue на&nbsp;GitHub</a> или форкните <a href="https://github.com/nicothin/idiomatic-pre-CSS/">репизиторий</a> и&nbsp;пришлите pull&nbsp;request.</p>
    </div>
  </div>

  <div class="section" id="golden-rule">
    <div class="col">
      <h2>Золотые правила</h2>
      <p>Cоблюдайте предложенные здесь или свои собственные соглашения.</p>
    </div>
    <div class="col">
      <ol>
        <li>Весь код проекта должен выглядеть так, словно он написан одним человеком, вне&nbsp;зависимости от&nbsp;количества разработчиков.</li>
        <li>Делать нужно настолько просто, насколько возможно. Но&nbsp;не&nbsp;проще.</li>
        <li>Любой инструмент при бездумном использовании может выстрелить в&nbsp;ногу.</li>
      </ol>
    </div>
  </div>



  <div class="heading" id="bem">
    <h2>БЭМ (как метод именования селекторов)</h2>
  </div>

  <div class="section" id="bem-cool">
    <div class="col">
      <h3>Зачем</h3>
      <ul>
        <li>Самодокументируемость.</li>
        <li>Имитация пространства имён (простота и безопасность модификации).</li>
        <li>Отсутствие зависимости от DOM-структуры.</li>
        <li>Проектное реиспользование блоков.</li>
        <li>Кросспроектное реиспользование блоков.</li>
      </ul>
    </div>
    <div class="col">
      <p>Само понятие БЭМ — не только метод именования селекторов, но парадигма восприятия проекта как набора сущностей (блоки, элементы, модификаторы). Полный стек БЭМ подразумевает двойную шаблонизацию и имеет относительно высокий порог входа. Используйте БЭМ хотя бы как способ именования селекторов.</p>
    </div>
  </div>

  <div class="section" id="bem-block">
    <div class="col">
      <h3>Блок — это самостоятельная часть страницы</h3>
      <ul>
        <li>Название класса должно быть простым и коротким.</li>
        <li>Название класса должно отвечать на вопрос «Что это?»</li>
        <li>Не используйте сокращения кроме <a href="https://github.com/nicothin/idiomatic-pre-CSS/blob/gh-pages/words_and_abbreviations.md">наиболее частых</a></li>
        <li>Название <strong>не должно</strong> отвечать на вопрос «Как выглядит?»</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- .product — БЭМ-блок --&gt;</span>
          <span class="code__line">&lt;div class=&quot;product&quot;&gt;</span>
          <span class="code__line">  ...</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-block-inside">
    <div class="col">
      <h3>Блоки можно и&nbsp;нужно вкладывать друг в&nbsp;друга</h3>
      <ul>
        <li>Нет ограничений на&nbsp;вложения блоков, помимо здравого смысла.</li>
        <li>Никакой дополнительной специфики вложенные блоки не имеют.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- .page-header — БЭМ-блок --&gt;</span>
          <span class="code__line">&lt;div class=&quot;page-header&quot;&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">  &lt;!-- .logo — вложенный БЭМ-блок --&gt;</span>
          <span class="code__line">  &lt;a class=&quot;logo&quot;&gt;...&lt;/a&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-elem">
    <div class="col">
      <h3>Элемент — часть БЭМ-блока</h3>
      <ul>
        <li>Название класса формируется из названия блока с добавлением <code>__</code> и названия элемента.</li>
        <li>Название класса должно быть простым и коротким.</li>
        <li>Название класса должно отвечать на вопрос «Что это?»</li>
        <li>Избегайте сокращений, кроме <a href="https://github.com/nicothin/idiomatic-pre-CSS/blob/gh-pages/words_and_abbreviations.md">наиболее частых</a>.</li>
        <li>Название <strong>не должно</strong> отвечать на вопрос «Как выглядит?»</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;div class=&quot;product&quot;&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">  &lt;!-- product__image — БЭМ-элемент блока product --&gt;</span>
          <span class="code__line">  &lt;img class=&quot;product__image&quot; src=&quot;...&quot; alt=&quot;...&quot;&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">  &lt;!-- product__description — БЭМ-элемент блока product --&gt;</span>
          <span class="code__line">  &lt;p class=&quot;product__description&quot;&gt;...&lt;/p&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">  &lt;!-- product__more-link — БЭМ-элемент блока product --&gt;</span>
          <span class="code__line">  &lt;a class=&quot;product__more-link&quot; href=&quot;&quot;&gt;...&lt;/a&gt;</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-elem-in">
    <div class="col">
      <h3>Элемент нельзя использовать вне&nbsp;его&nbsp;блока</h3>
      <P>Элемент — <strong>всегда часть блока</strong>, вне своего блока использоваться не&nbsp;должен.</p>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- Нет ошибки: элементы лежат внутри своего блока --&gt;</span>
          <span class="code__line">&lt;div class=&quot;product&quot;&gt;</span>
          <span class="code__line">  &lt;img class=&quot;product__image&quot; src=&quot;...&quot; alt=&quot;...&quot;&gt;</span>
          <span class="code__line">  &lt;p class=&quot;product__description&quot;&gt;...&lt;/p&gt;</span>
          <span class="code__line">  &lt;a class=&quot;product__more-link&quot; href=&quot;&quot;&gt;...&lt;/a&gt;</span>
          <span class="code__line">&lt;/div&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">&lt;!-- ОШИБКА: какой-то элемент вне своего блока --&gt;</span>
          <span class="code__line">&lt;!-- (Вокруг фрагмента нет обёртки с .page-header) --&gt;</span>
          <span class="code__line">&lt;form class=&quot;page-header__search&quot;&gt;...&lt;/form&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-no-elem">
    <div class="col">
      <h3>Элементов может не&nbsp;быть</h3>
      <p>Не у всех блоков должны быть элементы: кнопка — всегда БЭМ-блок, но БЭМ-элементы у неё внутри встречаются относительно редко.</p>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- Нет ошибки: блок без элементов --&gt;</span>
          <span class="code__line">&lt;a class=&quot;btn&quot; href=&quot;&quot;&gt;Скачать&lt;/a&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-block-elem">
    <div class="col">
      <h3>Как отличить БЭМ-блок и БЭМ-элемент</h3>
      <p>Просто задайте себе вопрос: «Эта сущность может потребоваться мне отдельно, сама по себе? Или она нужна только внутри её родителя?» Если нужна отдельно — это БЭМ-блок, если мыслима только внутри родителя — это БЭМ-элемент.</p>
      <p>В действительно сомнительных случаях делайте выбор в пользу БЭМ-блока.</p>
      <p>Не забывайте о миксовании (возможности иметь на одном теге и класс уровня БЭМ-элемента какого-то родительского блока, и свой класс уровня БЭМ-блока).</p>
    </div>
    <div class="col">
      <h3>Всегда являются БЭМ-блоками:</h3>
      <ul>
        <li>кнопка,</li>
        <li>блок формы (с элементами: название поля, поле, пояснение, сообщение об ошибке, ect.),</li>
        <li>запись в блоге,</li>
        <li>товар в каталоге,</li>
        <li>табы, карусель, соц. ссылки.</li>
      </ul>
    </div>
  </div>

  <div class="section" id="bem-mod">
    <div class="col">
      <h3>Модификатор — дополнительный класс для&nbsp;смены оформления или&nbsp;поведения</h3>
      <ul>
        <li>Название класса формируется из названия блока/элемента с&nbsp;добавлением <code>--</code> и&nbsp;названия модификатора.</li>
        <li>Название должно быть простым и коротким.</li>
        <li>Название класса может отвечать на вопросы «Что&nbsp;это?», «Что&nbsp;меняется?», «Чем отличается от&nbsp;прочих?» </li>
        <li>Избегайте сокращений, кроме <a href="https://github.com/nicothin/idiomatic-pre-CSS/blob/gh-pages/words_and_abbreviations.md">наиболее частых</a>.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- .product--large — БЭМ-модификатор --&gt;</span>
          <span class="code__line">&lt;div class=&quot;product  product--large&quot;&gt;</span>
          <span class="code__line">  ...</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-mod-mariage">
    <div class="col">
      <h3>Модификатор нельзя использовать самостоятельно</h3>
      <p>Класс модификатор никогда не&nbsp;должен использоваться самостоятельно, но&nbsp;всегда только с&nbsp;тем классом, который он&nbsp;модифицирует.</p>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;!-- Нет ошибки: модификатор сопутствует модифицируемому классу --&gt;</span>
          <span class="code__line">&lt;div class=&quot;product  product--large&quot;&gt;</span>
          <span class="code__line">  ...</span>
          <span class="code__line">&lt;/div&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">&lt;!-- ОШИБКА: модификатор без класса, который он модифицирует --&gt;</span>
          <span class="code__line">&lt;div class=&quot;product--sale&quot;&gt;</span>
          <span class="code__line">  ...</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="mix">
    <div class="col">
      <h3>Миксование — наличие класса БЭМ-блока и класса БЭМ-элемента у одного тега</h3>
      <ul>
        <li>Нет ограничений на смешение БЭМ-сущностей на одном DOM-узле: cмешивать можно БЭМ-блок с БЭМ-элементом, два БЭМ-блока, два БЭМ-элемента.</li>
        <li>Классы БЭМ-блоков следует писать первыми.</li>
        <li>Такой подход ухудшает восприятие кода.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;div class=&quot;slider&quot;&gt;</span>
          <span class="code__line">  &lt;div class=&quot;promo  slider__inner&quot;&gt;</span>
          <span class="code__line">    &lt;div class=&quot;promo__item  slider__item&quot;&gt;</span>
          <span class="code__line">      ...</span>
          <span class="code__line">    &lt;/div&gt;</span>
          <span class="code__line">  &lt;/div&gt;</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-files">
    <div class="col">
      <h3>Один БЭМ-блок = один файл</h3>
      <p>В файловой системе при работе с CSS-препроцессорами каждый БЭМ-блок должен быть описан в своём отдельном файле.</p>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  less">
          <span class="code__line">// файл slider.less</span>
          <span class="code__line">.slider {</span>
          <span class="code__line">  ...</span>
          <span class="code__line">}</span>
          <span class="code__line"> </span>
          <span class="code__line">// файл promo.less</span>
          <span class="code__line">.promo {</span>
          <span class="code__line">  ...</span>
          <span class="code__line">}</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-not-dom">
    <div class="col">
      <h3>БЭМ-дерево плоское, в отличие от DOM</h3>
      <p>В классах БЭМ-элементов нельзя прописывать иерархию (два и более сегмента <code>__</code> недопустимы).</p>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  html">
          <span class="code__line">&lt;div class=&quot;promo&quot;&gt;</span>
          <span class="code__line">  &lt;div class=&quot;promo__description&quot;&gt;</span>
          <span class="code__line">    &lt;!-- Нет ошибки: вложенный элемент не имеет особенностей --&gt;</span>
          <span class="code__line">    &lt;a class=&quot;promo__link&quot; href=&quot;&quot;&gt;...&lt;/a&gt;</span>
          <span class="code__line">  &lt;/div&gt;</span>
          <span class="code__line">&lt;/div&gt;</span>
          <span class="code__line"> </span>
          <span class="code__line">&lt;div class=&quot;promo&quot;&gt;</span>
          <span class="code__line">  &lt;div class=&quot;promo__description&quot;&gt;</span>
          <span class="code__line">    &lt;!--ОШИБКА: попытка прописать иерархию --&gt;</span>
          <span class="code__line">    &lt;a class=&quot;promo__description__link&quot; href=&quot;&quot;&gt;...&lt;/a&gt;</span>
          <span class="code__line">  &lt;/div&gt;</span>
          <span class="code__line">&lt;/div&gt;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="bem-blocks-only">
    <div class="col">
      <h3>Некоторые фрагменты дизайна — всегда БЭМ-блоки</h3>
      <p>На всех проектах (кроме совсем уж крошечных или имеющих гарантировано нулевую возможность модификации) есть фрагменты дизайна, которые мудро всегда делать БЭМ-блоками по причине высокой вероятности повторения.</p>
      <p>Любой вменяемый веб-дизайнер будет использовать уже готовые фрагменты страниц для сборки новых страниц.</p>
    </div>
    <div class="col">
      <ul>
        <li>Кнопка (любые кнопки)</li>
        <li>Блоки внутри форм (блок для текстового поля, блок для радиокнопки и т.п.)</li>
        <li>Пагинация</li>
        <li>Табы</li>
        <li>Лейблы (метки)</li>
        <li>Социальные ссылки</li>
        <li>«Лайк» со счётчиком</li>
      </ul>
    </div>
  </div>



  <div class="heading" id="pre-css">
    <h2>Sass, LESS, Stylus, PostCSS...</h2>
  </div>

  <div class="section" id="files">
    <div class="col">
      <h3>Файловая организация</h3>
      <ul>
        <li>Один БЭМ-блок = один препроцессорный файл. Всегда.</li>
        <li>Файл со стилизацией БЭМ-блока должен называться так же, как сам блок.</li>
        <li>Используйте «генераторы блоков» (<a href="https://gist.github.com/nicothin/1ba505f7cdfbe969600afcad6d9f1d33">простой пример</a>, <a href="https://github.com/nicothin/NTH-start-project/blob/master/createBlock.js">пример посложнее</a>) для ускорения работы.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax bash">
          <span class="code__line"># Один из вариантов файловой организации (удобно должно быть ВАМ)</span>
          <span class="code__line">src/                   # папка с исходниками, из которых собирается проект</span>
          <span class="code__line">  blocks/              # папка с БЭМ-блоками</span>
          <span class="code__line">    page-header/       # папка БЭМ-блока</span>
          <span class="code__line">      img/             # картинки, используемые в БЭМ-блоке</span>
          <span class="code__line">      page-header.less # стилизация БЭМ-блока</span>
          <span class="code__line">      page-header.html # разметка БЭМ-блока (не обязательно)</span>
          <span class="code__line">      page-header.js   # доп. интерактив БЭМ-блока (не обязательно)</span>
          <span class="code__line">    page-footer/       # папка БЭМ-блока</span>
          <span class="code__line">    logo/              # папка БЭМ-блока</span>
          <span class="code__line">    ...</span>
          <span class="code__line">  less/</span>
          <span class="code__line">    global/                   # папка с глобальными стилями</span>
          <span class="code__line">      global-fonts.less       # подключение шрифтов</span>
          <span class="code__line">      global-scaffolding.less # стилизация body, ссылок и прочей мелочи</span>
          <span class="code__line">      global-type.less        # типографика</span>
          <span class="code__line">      ...</span>
          <span class="code__line">    mixins/            # папка с примесями</span>
          <span class="code__line">    style.less         # диспетчер подключений</span>
          <span class="code__line">    variables.less     # переменные проекта</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="import">
    <div class="col">
      <h3>@import</h3>
      <ul>
        <li>Компилируйте один файл (диспетчер подключений), в котором подключаются все прочие.</li>
        <li>Импортируйте файлы только в диспетчере подключений (допустимо импортировать примеси внутри отдельного файла, например, <code>mixins.less</code>).</li>
        <li>Не пишите никаких селекторов в диспетчере подключений.</li>
        <li>Не импортируйте файлы внутри медиа-условий.</li>
        <li>Один БЭМ-блок = один препроцессорный файл. <strong>Всегда</strong>.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax less">
          <span class="code__line"># style.less</span>
          <span class="code__line">@import 'variables.less';           // правильно</span>
          <span class="code__line">@import 'mixins.less';              // правильно</span>
          <span class="code__line"> </span>
          <span class="code__line">@import '../blocks/page-header/page-header.less';   // правильно</span>
          <span class="code__line">@import '../blocks/page-footer/page-footer.less';   // правильно</span>
          <span class="code__line"> </span>
          <span class="code__line">@import 'responsive-imports.less';  // неправильно, если внутри этого файла есть импорты</span>
          <span class="code__line">@import 'top-part-page.less';       // неправильно, если нет такого БЭМ-блока</span>
          <span class="code__line"> </span>
          <span class="code__line">// неправильно, импорт внутри @media</span>
          <span class="code__line">@media screen and (min-width: @laptop-min) {</span>
          <span class="code__line">  @import '../blocks/promo/promo.less';</span>
          <span class="code__line">}</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="nested">
    <div class="col">
      <h3>Вложения селекторов</h3>
      <ul>
        <li>Чем меньше уровней вложенности, тем лучше.</li>
        <li>Не допускайте более 3-х уровней вложенности (псевдоэлемены, псевдоселекторы и медиа-условия не считаются увеличивающими вложенность).</li>
        <li>Осторожно используйте жесткое наследование.</li>
        <li>Всегда оставляйте пустую строку перед вложенным селектором или <code>@media</code>.</li>
        <li>Всегда делайте дополнительный отступ для вложений.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  less">
          <span class="code__line">.promo {</span>
          <span class="code__line">  display: block;</span>
          <span class="code__line">                    // пустая строка для улучшения читаемости</span>
          <span class="code__line">  a {               // первый уровень вложенности</span>
          <span class="code__line">    color: #ff0000;</span>
          <span class="code__line">                    // пустая строка для улучшения читаемости</span>
          <span class="code__line">    &:hover {       // не увеличивает уровень вложенности</span>
          <span class="code__line">      ...</span>
          <span class="code__line">    }</span>
          <span class="code__line">  }</span>
          <span class="code__line">}</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="media">
    <div class="col">
      <h3>@media</h3>
      <ul>
        <li>Вкладывайте <code>@media</code> в селекторы, а не наоборот.</li>
        <li>Не вкладывайте <code>@media</code> друг в друга.</li>
        <li>Предпочтите путь mobile-first, избегайте указания <code>@media</code>-условия max-width в пользу min-width.</li>
        <li>Пишите <code>@media</code> рядом, не пишите селекторы между ними.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  less">
          <span class="code__line">.promo {</span>
          <span class="code__line">  display: block;</span>
          <span class="code__line">  </span>
          <span class="code__line">  @media (...) {</span>
          <span class="code__line">    display: none;</span>
          <span class="code__line">  }</span>
          <span class="code__line">  </span>
          <span class="code__line">  @media (...) {</span>
          <span class="code__line">    display: block;</span>
          <span class="code__line">  }</span>
          <span class="code__line">}</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="amp">
    <div class="col">
      <h3>Амперсанд</h3>
      <ul>
        <li>Используйте амперсанд только перед:
          <ul>
            <li>резделителем БЭМ-элемента,</li>
            <li>резделителем БЭМ-модификатора,</li>
            <li>псевдоэлементом или псевдоселектором.</li>
          </ul>
        </li>
        <li><strong>Никогда</strong> не используйте амперсанд в&nbsp;местах разделения словосочетаний имён блоков, элементов или модификаторов (см. пример).</li>
        <li><strong>Никогда</strong> не повторяйте написанный с амперсандом селектор внутри одного контекста.</li>
        <li>Внутри контекста блока пишите сначала псевдоселекторы и псевдоэлементы, потом элементы блока, потом модификаторы блока.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  less">
          <span class="code__line">.promo {</span>
          <span class="code__line">  </span>
          <span class="code__line">  // Правильно: амперсанд перед псевдоклассом</span>
          <span class="code__line">  &:hover { ... }</span>
          <span class="code__line">  </span>
          <span class="code__line">  // Правильно: амперсанд перед разделителем элемента</span>
          <span class="code__line">  &__item {</span>
          <span class="code__line">  </span>
          <span class="code__line">    // НЕПРАВИЛЬНО: амперсанд в месте разделения словосочетания в названии элемента</span>
          <span class="code__line">    &-link { ... }</span>
          <span class="code__line">  }</span>
          <span class="code__line">  </span>
          <span class="code__line">  // НЕПРАВИЛЬНО: амперсанд в месте разделения словосочетания в названии блока</span>
          <span class="code__line">  &-shover { ... }</span>
          <span class="code__line">  </span>
          <span class="code__line">  // Правильно: модификаторы нужно писать под элементами</span>
          <span class="code__line">  &--large { ... }</span>
          <span class="code__line">  </span>
          <span class="code__line">}</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="vars">
    <div class="col">
      <h3>Переменные</h3>
      <ul>
        <li>Выносите в переменные (как минимум):
          <ul>
            <li>цвета (<a href="http://nicothin.pro/page/preprocessor-color-functions">подробнее о цветах в переменных</a>),</li>
            <li>размеры шрифтов, шрифтовые семейства, интерлиньяж,</li>
            <li>брейкпоинты (или условия для <code>@media</code> целиком).</li>
          </ul>
        </li>
        <li>Для средних и крупных проектов определяйте в переменных цвета ссылок, бордюры, тени и прочие часто использующиеся величины.</li>
        <li>Отделяйте смысловые блоки с переменными пустыми строками.</li>
        <li>Используйте БЭМ-именование для переменных.</li>
      </ul>
    </div>
    <div class="col">
      <pre class="code">
        <code class="code__syntax  less">
          <span class="code__line">@color-main:                  #0275d8;</span>
          <span class="code__line">@color-success:               #5cb85c;</span>
          <span class="code__line">@color-danger:                #d9534f;</span>
          <span class="code__line"> </span>
          <span class="code__line">@text-color:                  @gray-darkest;</span>
          <span class="code__line">@text-color--muted:           @gray;</span>
          <span class="code__line"> </span>
          <span class="code__line">@font-size:                   1.6rem;</span>
          <span class="code__line">@font-size--h1:               3rem;</span>
          <span class="code__line">...</span>
          <span class="code__line">@font-size--small:            0.75em;</span>
          <span class="code__line"> </span>
          <span class="code__line">@line-height:                 1.375em;</span>
          <span class="code__line"> </span>
          <span class="code__line">@font-family:                 'Roboto', Arial, sans-serif;</span>
          <span class="code__line"> </span>
          <span class="code__line">@screen-xs:                   0;</span>
          <span class="code__line">@screen-sm:                   480px;</span>
          <span class="code__line">@screen-md:                   768px;</span>
          <span class="code__line">@screen-lg:                   992px;</span>
          <span class="code__line">@screen-xl:                   1200px;</span>
        </code>
      </pre>
    </div>
  </div>

  <div class="section" id="mixins">
    <div class="col">
      <h3>Примеси</h3>
      <ul>
        <li>Не пишите примеси без нужды! Писать примесь не нужно, когда:
          <ul>
            <li>В примеси 1-2 правила.</li>
            <li>Примесь нужна на 1-2 вызова.</li>
            <li>Примесь уже была написана кем-то/Вами ранее (<code>.clearfix();</code>).</li>
          </ul>
        </li>
        <li>Делайте примеси как можно проще.</li>
        <li>Используйте <a href="https://github.com/twbs/bootstrap/tree/master/less/mixins">уже готовые</a> <a href="https://github.com/zurb/foundation-sites/blob/develop/scss/util/_mixins.scss">наборы</a> <a href="https://github.com/nicothin/NTH-start-project/tree/master/src/less/mixins">примесей</a>.</li>
        <li>Не передавайте в примеси наборы правил (для «оборачивания» их в <code>@media</code>).</li>
        <li>(LESS) При вызове примеси всегда пишите скобки.</li>
      </ul>
    </div>
  </div>



  <footer class="page-footer">
    <p>&lt;3</p>
    <p>Лицензия MIT. Автор: <a href="http://nicothin.pro">nicothin</a> 2016.</p>
    <div class="page-footer__star">
      <iframe src="https://ghbtns.com/github-btn.html?user=nicothin&repo=idiomatic-pre-CSS&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
    </div>
  </footer>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
